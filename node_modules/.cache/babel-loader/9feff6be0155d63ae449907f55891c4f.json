{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/Chris/somm-demo/components/SommWidget.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check';\nvar WidgetContainer = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetContainer\",\n  componentId: \"i7qmkt-0\"\n})([\"position:fixed;\", \":\", \";bottom:16px;z-index:88888;\"], function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '64px' : '16px';\n});\nvar WidgetToggle = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetToggle\",\n  componentId: \"i7qmkt-1\"\n})([\"width:48px;height:48px;background:\", \";box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;position:absolute;bottom:0;right:0;display:flex;align-items:center;justify-content:center;cursor:pointer;\"], function (props) {\n  return props.background;\n});\nvar WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetFrame = styled(function (props) {\n  return React.createElement(WidgetFrame, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"SommWidget__StyledWidgetFrame\",\n  componentId: \"i7qmkt-2\"\n})([\"width:calc(100vw - 32px);max-width:360px;height:\", \";max-height:600px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;\", \":\", \";scale:1;opacity:1;transform-origin:bottom \", \";\"], function (props) {\n  return \"calc(\".concat(props.viewportHeight, \"px - 32px - 64px)\");\n}, function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '-48px' : '-16px';\n}, function (props) {\n  return props.position;\n});\nvar WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetToggleIcon = styled(function (props) {\n  return React.createElement(WidgetToggleIcon, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"SommWidget__StyledWidgetToggleIcon\",\n  componentId: \"i7qmkt-3\"\n})([\"width:24px;height:24px;display:flex;align-items:center;justify-content:center;scale:1;opacity:1;\"]);\nvar spinnerAnimation = keyframes([\"0%{top:28px;left:28px;width:0;height:0;opacity:1;}100%{top:-1px;left:-1px;width:58px;height:58px;opacity:0;}\"]);\nvar SpinnerWrapper = styled.div.withConfig({\n  displayName: \"SommWidget__SpinnerWrapper\",\n  componentId: \"i7qmkt-4\"\n})([\"width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;z-index:1;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch;overflow-y:scroll;border-radius:8px;& iframe{border-radius:8px;}\"]);\nvar Spinner = styled.div.withConfig({\n  displayName: \"SommWidget__Spinner\",\n  componentId: \"i7qmkt-5\"\n})([\"display:inline-flex;position:relative;width:64px;height:64px;& div{position:absolute;border:4px solid #f94343;opacity:1;border-radius:50%;animation:\", \" 1.5s cubic-bezier(0,0.2,0.8,1) infinite}& div:nth-child(2){animation-delay:-0.5s;}\"], spinnerAnimation);\nvar PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetMessage = styled(function (props) {\n  return React.createElement(PosedWidgetMessage, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"SommWidget__WidgetMessage\",\n  componentId: \"i7qmkt-6\"\n})([\"width:224px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;right:0;scale:1;opacity:1;transform-origin:bottom right;padding:16px;box-sizing:border-box;display:flex;align-items:center;font-family:'Montserrat',sans-serif;font-weight:700;color:#1f1f1f;font-size:1rem;\"]);\n\nvar Widget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Widget, _Component);\n\n  function Widget(props) {\n    var _this;\n\n    _classCallCheck(this, Widget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Widget).call(this, props));\n    _this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: true\n    };\n    return _this;\n  }\n\n  _createClass(Widget, [{\n    key: \"handleToggle\",\n    value: function handleToggle() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var test = vhCheck();\n      console.log(test);\n      return React.createElement(WidgetContainer, {\n        position: this.props.position,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, this.state.messageVisible && !this.state.hasOpened && React.createElement(WidgetMessage, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, this.props.message)), React.createElement(PoseGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, this.state.open && React.createElement(StyledWidgetFrame, {\n        key: \"0\",\n        viewportHeight: test.windowHeight,\n        position: this.props.position,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(SpinnerWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"iframe\", {\n        style: {\n          zIndex: 8,\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          background: 'transparent',\n          display: 'block'\n        },\n        src: \"https://app.somm.ca/\".concat(this.props.username),\n        sandbox: \"allow-same-origin allow-scripts allow-popups allow-top-navigation\",\n        width: \"100%\",\n        height: \"100%\",\n        frameBorder: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(Spinner, {\n        color: this.props.iconColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }))))), React.createElement(WidgetToggle, {\n        background: this.props.backgroundColor,\n        onClick: function onClick() {\n          return _this2.setState({\n            open: !_this2.state.open,\n            hasOpened: true,\n            messageVisible: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(PoseGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, this.state.open ? React.createElement(StyledWidgetToggleIcon, {\n        key: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        fill: this.props.iconColor,\n        width: \"18px\",\n        height: \"18px\",\n        viewBox: \"0 0 16 16\",\n        version: \"1.1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Page-4\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Search\",\n        transform: \"translate(-46.000000, -45.000000)\",\n        fill: this.props.iconColor,\n        fillRule: \"nonzero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Group\",\n        transform: \"translate(32.000000, 32.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Group-2\",\n        transform: \"translate(14.000000, 11.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"polygon\", {\n        id: \"Shape\",\n        points: \"15.5555556 3.56666667 13.9888889 2 7.77777778 8.21111111 1.56666667 2 0 3.56666667 6.21111111 9.77777778 0 15.9888889 1.56666667 17.5555556 7.77777778 11.3444444 13.9888889 17.5555556 15.5555556 15.9888889 9.34444444 9.77777778\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }))))))) : React.createElement(StyledWidgetToggleIcon, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        width: \"22px\",\n        height: \"20px\",\n        viewBox: \"0 0 22 20\",\n        version: \"1.1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Page-3\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Desktop-HD\",\n        transform: \"translate(-1379.000000, -720.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Group-10\",\n        transform: \"translate(1054.000000, 90.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"Group-9\",\n        transform: \"translate(312.000000, 616.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"g\", {\n        id: \"round-restaurant_menu-24px\",\n        transform: \"translate(12.000000, 12.000000)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"polygon\", {\n        id: \"Shape\",\n        points: \"0 0 24 0 24 24 0 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M7.0394622,13.5010047 L10.2283461,10.3121208 L3.25336682,3.34840963 C2.71249606,2.80753886 1.77724035,2.95402469 1.43919612,3.65264944 C0.639158114,5.33160244 0.93212978,7.39367224 2.31811112,8.79092173 L7.0394622,13.5010047 Z M14.6792618,11.4614711 C16.4032874,12.2615092 18.8259377,11.6981021 20.6175721,9.90646768 C22.769787,7.75425276 23.1867082,4.66678213 21.5302915,3.0103654 C19.8851429,1.36521682 16.7976723,1.77086989 14.6341892,3.92308482 C12.8425548,5.71471924 12.2791478,8.13736955 13.0791858,9.86139512 L2.87025003,20.0703309 C2.43079253,20.5097884 2.43079253,21.2196812 2.87025003,21.6591387 C3.30970753,22.0985962 4.01960041,22.0985962 4.45905791,21.6591387 L11.4340372,14.7066957 L18.3977483,21.6704069 C18.8372058,22.1098644 19.5470987,22.1098644 19.9865562,21.6704069 C20.4260137,21.2309494 20.4260137,20.5210565 19.9865562,20.081599 L13.0228451,13.1178879 L14.6792618,11.4614711 Z\",\n        id: \"Shape\",\n        fill: this.props.iconColor,\n        fillRule: \"nonzero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      })))))))))));\n    }\n  }]);\n\n  return Widget;\n}(Component);\n\nexport default Widget;","map":{"version":3,"sources":["/Users/Chris/somm-demo/components/SommWidget.jsx"],"names":["React","Component","PropTypes","posed","PoseGroup","styled","keyframes","vhCheck","WidgetContainer","div","props","position","WidgetToggle","background","WidgetFrame","enter","scale","opacity","exit","init","StyledWidgetFrame","viewportHeight","WidgetToggleIcon","StyledWidgetToggleIcon","spinnerAnimation","SpinnerWrapper","Spinner","PosedWidgetMessage","delay","WidgetMessage","Widget","state","open","hasOpened","messageVisible","test","console","log","message","windowHeight","zIndex","top","left","display","username","iconColor","backgroundColor","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, {PoseGroup} from 'react-pose'\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check'\n\nconst WidgetContainer = styled.div`\n  position: fixed;\n  ${props => props.position}: ${props => props.position == \"left\" ? '64px' : '16px'};\n  bottom: 16px;\n  z-index: 88888;\n`;\n\nconst WidgetToggle = styled.div`\n  width: 48px;\n  height: 48px;\n  background: ${props => props.background};\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`;\n\nconst WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst StyledWidgetFrame = styled(props => <WidgetFrame {...props} />)`\n  width: calc(100vw - 32px);\n  max-width: 360px;\n  height: ${props => `calc(${props.viewportHeight}px - 32px - 64px)`};\n  max-height: 600px;\n  display: block;\n  border: 0;\n  appearance: none;\n  background: #FFFFFF;\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 64px;\n  ${props => props.position}: ${props => props.position == \"left\" ? '-48px' : '-16px'};\n  scale: 1;\n  opacity: 1;\n  transform-origin: bottom ${props => props.position};\n`;\n\nconst WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst StyledWidgetToggleIcon = styled(props => <WidgetToggleIcon {...props} />)`\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  scale: 1;\n  opacity: 1;\n`;\n\nconst spinnerAnimation = keyframes`\n  0% {\n    top: 28px;\n    left: 28px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: -1px;\n    left: -1px;\n    width: 58px;\n    height: 58px;\n    opacity: 0;\n  }\n`\n\nconst SpinnerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  -webkit-overflow-scrolling: touch;\n  overflow-y: scroll;\n  border-radius: 8px;\n\n  & iframe {\n    border-radius: 8px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-flex;\n  position: relative;\n  width: 64px;\n  height: 64px;\n\n  & div {\n    position: absolute;\n    border: 4px solid #f94343;\n    opacity: 1;\n    border-radius: 50%;\n    animation: ${spinnerAnimation} 1.5s cubic-bezier(0, 0.2, 0.8, 1) infinite\n  }\n\n  & div:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n`\n\nconst PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst WidgetMessage = styled((props) => <PosedWidgetMessage {...props} />)`\n  width: 224px;\n  display: block;\n  border: 0;\n  appearance: none;\n  background: #FFFFFF;\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 64px;\n  right: 0;\n  scale: 1;\n  opacity: 1;\n  transform-origin: bottom right;\n  padding: 16px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 700;\n  color: #1f1f1f;\n  font-size: 1rem;\n`;\n\nclass Widget extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: true,\n    }\n  }\n\n  handleToggle() {\n\n  }\n\n  render() {\n\n    var test = vhCheck()\n    console.log(test);\n\n    return (\n      <WidgetContainer position={this.props.position}>\n        <PoseGroup animateOnMount preEnterPose=\"init\">\n          {this.state.messageVisible && !this.state.hasOpened &&\n            <WidgetMessage key=\"1\">\n              {this.props.message}\n            </WidgetMessage>\n          }\n        </PoseGroup>\n        <PoseGroup>\n          {this.state.open &&\n            <StyledWidgetFrame key=\"0\" viewportHeight={test.windowHeight} position={this.props.position}>\n              <SpinnerWrapper>\n                <iframe\n                  style={{ zIndex: 8, position: 'absolute', top: 0, left: 0, background: 'transparent', display: 'block' }}\n                  src={`https://app.somm.ca/${this.props.username}`}\n                  sandbox=\"allow-same-origin allow-scripts allow-popups allow-top-navigation\"\n                  width=\"100%\"\n                  height=\"100%\"\n                  frameBorder=\"0\">\n                </iframe>\n                <Spinner color={this.props.iconColor}>\n                  <div></div>\n                  <div></div>\n                </Spinner>\n              </SpinnerWrapper>\n            </StyledWidgetFrame>\n          }\n        </PoseGroup>\n        <WidgetToggle\n            background={this.props.backgroundColor}\n            onClick={() => this.setState({ open: !this.state.open, hasOpened: true, messageVisible: false, })}>\n          <PoseGroup>\n            {this.state.open\n              ?\n                <StyledWidgetToggleIcon key=\"0\">\n                  <svg fill={this.props.iconColor} width=\"18px\" height=\"18px\" viewBox=\"0 0 16 16\" version=\"1.1\">\n                      <g id=\"Page-4\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                          <g id=\"Search\" transform=\"translate(-46.000000, -45.000000)\" fill={this.props.iconColor} fillRule=\"nonzero\">\n                              <g id=\"Group\" transform=\"translate(32.000000, 32.000000)\">\n                                  <g id=\"Group-2\" transform=\"translate(14.000000, 11.000000)\">\n                                      <polygon id=\"Shape\" points=\"15.5555556 3.56666667 13.9888889 2 7.77777778 8.21111111 1.56666667 2 0 3.56666667 6.21111111 9.77777778 0 15.9888889 1.56666667 17.5555556 7.77777778 11.3444444 13.9888889 17.5555556 15.5555556 15.9888889 9.34444444 9.77777778\"></polygon>\n                                  </g>\n                              </g>\n                          </g>\n                      </g>\n                  </svg>\n                </StyledWidgetToggleIcon>\n              :\n                <StyledWidgetToggleIcon key=\"1\">\n                  <svg width=\"22px\" height=\"20px\" viewBox=\"0 0 22 20\" version=\"1.1\">\n                      <g id=\"Page-3\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                          <g id=\"Desktop-HD\" transform=\"translate(-1379.000000, -720.000000)\">\n                              <g id=\"Group-10\" transform=\"translate(1054.000000, 90.000000)\">\n                                  <g id=\"Group-9\" transform=\"translate(312.000000, 616.000000)\">\n                                      <g id=\"round-restaurant_menu-24px\" transform=\"translate(12.000000, 12.000000)\">\n                                          <polygon id=\"Shape\" points=\"0 0 24 0 24 24 0 24\"></polygon>\n                                          <path d=\"M7.0394622,13.5010047 L10.2283461,10.3121208 L3.25336682,3.34840963 C2.71249606,2.80753886 1.77724035,2.95402469 1.43919612,3.65264944 C0.639158114,5.33160244 0.93212978,7.39367224 2.31811112,8.79092173 L7.0394622,13.5010047 Z M14.6792618,11.4614711 C16.4032874,12.2615092 18.8259377,11.6981021 20.6175721,9.90646768 C22.769787,7.75425276 23.1867082,4.66678213 21.5302915,3.0103654 C19.8851429,1.36521682 16.7976723,1.77086989 14.6341892,3.92308482 C12.8425548,5.71471924 12.2791478,8.13736955 13.0791858,9.86139512 L2.87025003,20.0703309 C2.43079253,20.5097884 2.43079253,21.2196812 2.87025003,21.6591387 C3.30970753,22.0985962 4.01960041,22.0985962 4.45905791,21.6591387 L11.4340372,14.7066957 L18.3977483,21.6704069 C18.8372058,22.1098644 19.5470987,22.1098644 19.9865562,21.6704069 C20.4260137,21.2309494 20.4260137,20.5210565 19.9865562,20.081599 L13.0228451,13.1178879 L14.6792618,11.4614711 Z\" id=\"Shape\" fill={this.props.iconColor} fillRule=\"nonzero\" />\n                                      </g>\n                                  </g>\n                              </g>\n                          </g>\n                      </g>\n                  </svg>\n                </StyledWidgetToggleIcon>\n            }\n          </PoseGroup>\n        </WidgetToggle>\n      </WidgetContainer>\n    );\n  }\n\n}\n\nexport default Widget;\n"]},"metadata":{},"sourceType":"module"}