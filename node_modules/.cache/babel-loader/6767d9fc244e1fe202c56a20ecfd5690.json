{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check';\nvar WidgetContainer = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetContainer\",\n  componentId: \"i7qmkt-0\"\n})([\"position:fixed;\", \":\", \";bottom:16px;z-index:88888;\"], function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '64px' : '26px';\n});\nvar WidgetToggle = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetToggle\",\n  componentId: \"i7qmkt-1\"\n})([\"width:48px;height:48px;background:\", \";box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;position:absolute;bottom:0;right:0;display:flex;align-items:center;justify-content:center;cursor:pointer;\"], function (props) {\n  return props.background;\n});\nvar WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetFrame = styled(function (props) {\n  return React.createElement(WidgetFrame, props);\n}).withConfig({\n  displayName: \"SommWidget__StyledWidgetFrame\",\n  componentId: \"i7qmkt-2\"\n})([\"width:calc(100vw - 32px);max-width:360px;height:\", \";max-height:600px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;\", \":\", \";scale:1;opacity:1;transform-origin:bottom \", \";\"], function (props) {\n  return \"calc(\".concat(props.viewportHeight, \"px - 32px - 64px)\");\n}, function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '-48px' : '-10px';\n}, function (props) {\n  return props.position;\n});\nvar WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetToggleIcon = styled(function (props) {\n  return React.createElement(WidgetToggleIcon, props);\n}).withConfig({\n  displayName: \"SommWidget__StyledWidgetToggleIcon\",\n  componentId: \"i7qmkt-3\"\n})([\"width:24px;height:24px;display:flex;align-items:center;justify-content:center;scale:1;opacity:1;\"]);\nvar spinnerAnimation = keyframes([\"0%{top:28px;left:28px;width:0;height:0;opacity:1;}100%{top:-1px;left:-1px;width:58px;height:58px;opacity:0;}\"]);\nvar SpinnerWrapper = styled.div.withConfig({\n  displayName: \"SommWidget__SpinnerWrapper\",\n  componentId: \"i7qmkt-4\"\n})([\"width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;z-index:1;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch;overflow-y:scroll;border-radius:8px;& iframe{border-radius:8px;}\"]);\nvar Spinner = styled.div.withConfig({\n  displayName: \"SommWidget__Spinner\",\n  componentId: \"i7qmkt-5\"\n})([\"display:inline-flex;position:relative;width:64px;height:64px;& div{position:absolute;border:4px solid #f94343;opacity:1;border-radius:50%;animation:\", \" 1.5s cubic-bezier(0,0.2,0.8,1) infinite}& div:nth-child(2){animation-delay:-0.5s;}\"], spinnerAnimation);\nvar PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetMessage = styled(function (props) {\n  return React.createElement(PosedWidgetMessage, props);\n}).withConfig({\n  displayName: \"SommWidget__WidgetMessage\",\n  componentId: \"i7qmkt-6\"\n})([\"width:224px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;right:0;scale:1;opacity:1;transform-origin:bottom right;padding:16px;box-sizing:border-box;display:flex;align-items:center;font-family:'Montserrat',sans-serif;font-weight:700;color:#1f1f1f;font-size:1rem;\"]);\n\nvar Widget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Widget, _Component);\n\n  function Widget(props) {\n    var _this;\n\n    _classCallCheck(this, Widget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Widget).call(this, props));\n    _this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: true\n    };\n    return _this;\n  }\n\n  _createClass(Widget, [{\n    key: \"handleToggle\",\n    value: function handleToggle() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var test = vhCheck();\n      console.log(test);\n      return React.createElement(WidgetContainer, {\n        position: this.props.position\n      }, React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\"\n      }, this.state.messageVisible && !this.state.hasOpened && React.createElement(WidgetMessage, {\n        key: \"1\"\n      }, \"Try out Somm now! \\uD83D\\uDC47\")), React.createElement(PoseGroup, null, this.state.open && React.createElement(StyledWidgetFrame, {\n        key: \"0\",\n        viewportHeight: test.windowHeight,\n        position: this.props.position\n      }, React.createElement(SpinnerWrapper, null, React.createElement(\"iframe\", {\n        style: {\n          zIndex: 8,\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          background: 'transparent',\n          display: 'block'\n        },\n        src: \"https://app.somm.ca/\".concat(this.props.username),\n        sandbox: \"allow-same-origin allow-scripts allow-popups allow-top-navigation\",\n        width: \"100%\",\n        height: \"100%\",\n        frameBorder: \"0\"\n      }), React.createElement(Spinner, {\n        color: this.props.iconColor\n      }, React.createElement(\"div\", null), React.createElement(\"div\", null))))), React.createElement(WidgetToggle, {\n        background: this.props.backgroundColor,\n        onClick: function onClick() {\n          return _this2.setState({\n            open: !_this2.state.open,\n            hasOpened: true,\n            messageVisible: false\n          });\n        }\n      }, React.createElement(PoseGroup, null, this.state.open ? React.createElement(StyledWidgetToggleIcon, {\n        key: \"0\"\n      }, React.createElement(\"svg\", {\n        fill: this.props.iconColor,\n        width: \"18px\",\n        height: \"18px\",\n        viewBox: \"0 0 16 16\",\n        version: \"1.1\"\n      }, React.createElement(\"g\", {\n        id: \"Page-4\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, React.createElement(\"g\", {\n        id: \"Search\",\n        transform: \"translate(-46.000000, -45.000000)\",\n        fill: this.props.iconColor,\n        fillRule: \"nonzero\"\n      }, React.createElement(\"g\", {\n        id: \"Group\",\n        transform: \"translate(32.000000, 32.000000)\"\n      }, React.createElement(\"g\", {\n        id: \"Group-2\",\n        transform: \"translate(14.000000, 11.000000)\"\n      }, React.createElement(\"polygon\", {\n        id: \"Shape\",\n        points: \"15.5555556 3.56666667 13.9888889 2 7.77777778 8.21111111 1.56666667 2 0 3.56666667 6.21111111 9.77777778 0 15.9888889 1.56666667 17.5555556 7.77777778 11.3444444 13.9888889 17.5555556 15.5555556 15.9888889 9.34444444 9.77777778\"\n      }))))))) : React.createElement(StyledWidgetToggleIcon, {\n        key: \"1\"\n      }, React.createElement(\"svg\", {\n        width: \"22px\",\n        height: \"20px\",\n        viewBox: \"0 0 22 20\",\n        version: \"1.1\"\n      }, React.createElement(\"g\", {\n        id: \"Page-3\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, React.createElement(\"g\", {\n        id: \"Desktop-HD\",\n        transform: \"translate(-1379.000000, -720.000000)\"\n      }, React.createElement(\"g\", {\n        id: \"Group-10\",\n        transform: \"translate(1054.000000, 90.000000)\"\n      }, React.createElement(\"g\", {\n        id: \"Group-9\",\n        transform: \"translate(312.000000, 616.000000)\"\n      }, React.createElement(\"g\", {\n        id: \"round-restaurant_menu-24px\",\n        transform: \"translate(12.000000, 12.000000)\"\n      }, React.createElement(\"polygon\", {\n        id: \"Shape\",\n        points: \"0 0 24 0 24 24 0 24\"\n      }), React.createElement(\"path\", {\n        d: \"M7.0394622,13.5010047 L10.2283461,10.3121208 L3.25336682,3.34840963 C2.71249606,2.80753886 1.77724035,2.95402469 1.43919612,3.65264944 C0.639158114,5.33160244 0.93212978,7.39367224 2.31811112,8.79092173 L7.0394622,13.5010047 Z M14.6792618,11.4614711 C16.4032874,12.2615092 18.8259377,11.6981021 20.6175721,9.90646768 C22.769787,7.75425276 23.1867082,4.66678213 21.5302915,3.0103654 C19.8851429,1.36521682 16.7976723,1.77086989 14.6341892,3.92308482 C12.8425548,5.71471924 12.2791478,8.13736955 13.0791858,9.86139512 L2.87025003,20.0703309 C2.43079253,20.5097884 2.43079253,21.2196812 2.87025003,21.6591387 C3.30970753,22.0985962 4.01960041,22.0985962 4.45905791,21.6591387 L11.4340372,14.7066957 L18.3977483,21.6704069 C18.8372058,22.1098644 19.5470987,22.1098644 19.9865562,21.6704069 C20.4260137,21.2309494 20.4260137,20.5210565 19.9865562,20.081599 L13.0228451,13.1178879 L14.6792618,11.4614711 Z\",\n        id: \"Shape\",\n        fill: this.props.iconColor,\n        fillRule: \"nonzero\"\n      })))))))))));\n    }\n  }]);\n\n  return Widget;\n}(Component);\n\nexport default Widget;","map":null,"metadata":{},"sourceType":"module"}