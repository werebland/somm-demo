{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check';\nvar WidgetContainer = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetContainer\",\n  componentId: \"i7qmkt-0\"\n})([\"position:fixed;\", \":\", \";bottom:16px;z-index:8;\"], function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '64px' : '16px';\n});\nvar PosedWidgetToggle = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetToggle = styled(function (props) {\n  return React.createElement(PosedWidgetToggle, props);\n}).withConfig({\n  displayName: \"SommWidget__WidgetToggle\",\n  componentId: \"i7qmkt-1\"\n})([\"width:48px;height:48px;background:\", \";box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;position:absolute;bottom:0;right:0;display:flex;align-items:center;justify-content:center;cursor:pointer;\"], function (props) {\n  return props.background;\n});\nvar WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetFrame = styled(WidgetFrame).withConfig({\n  displayName: \"SommWidget__StyledWidgetFrame\",\n  componentId: \"i7qmkt-2\"\n})([\"width:calc(100vw - 32px);max-width:360px;height:\", \";max-height:600px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;\", \":\", \";scale:1;opacity:1;transform-origin:bottom \", \";\"], function (props) {\n  return \"calc(\".concat(props.viewportHeight, \"px - 32px - 64px)\");\n}, function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '-48px' : '0';\n}, function (props) {\n  return props.position;\n});\nvar WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetToggleIcon = styled(WidgetToggleIcon).withConfig({\n  displayName: \"SommWidget__StyledWidgetToggleIcon\",\n  componentId: \"i7qmkt-3\"\n})([\"width:24px;height:24px;display:flex;align-items:center;justify-content:center;opacity:1;& svg{fill:\", \";transform:scale(\", \");}\"], function (props) {\n  return props.iconColor;\n}, function (props) {\n  return props.role === \"close\" ? '1.3' : '1.2';\n});\nvar spinnerAnimation = keyframes([\"0%{top:28px;left:28px;width:0;height:0;opacity:1;}100%{top:-1px;left:-1px;width:58px;height:58px;opacity:0;}\"]);\nvar SpinnerWrapper = styled.div.withConfig({\n  displayName: \"SommWidget__SpinnerWrapper\",\n  componentId: \"i7qmkt-4\"\n})([\"width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;z-index:1;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch;overflow-y:scroll;border-radius:8px;& iframe{border-radius:8px;}\"]);\nvar Spinner = styled.div.withConfig({\n  displayName: \"SommWidget__Spinner\",\n  componentId: \"i7qmkt-5\"\n})([\"display:inline-flex;position:relative;width:64px;height:64px;& div{position:absolute;border:4px solid \", \";opacity:1;border-radius:50%;animation:\", \" 1.5s cubic-bezier(0,0.2,0.8,1) infinite}& div:nth-child(2){animation-delay:-0.5s;}\"], function (props) {\n  return props.color;\n}, spinnerAnimation);\nvar PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetMessage = styled(function (props) {\n  return React.createElement(PosedWidgetMessage, props);\n}).withConfig({\n  displayName: \"SommWidget__WidgetMessage\",\n  componentId: \"i7qmkt-6\"\n})([\"width:224px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;right:0;scale:1;opacity:1;transform-origin:bottom right;padding:16px;box-sizing:border-box;display:flex;align-items:center;font-weight:700;color:#1f1f1f;font-size:1rem;\"]);\n\nvar Widget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Widget, _Component);\n\n  function Widget(props) {\n    var _this;\n\n    _classCallCheck(this, Widget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Widget).call(this, props));\n    _this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: _this.props.message ? true : false\n    };\n    return _this;\n  }\n\n  _createClass(Widget, [{\n    key: \"handleToggle\",\n    value: function handleToggle() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var test = vhCheck();\n      console.log(test);\n      return React.createElement(WidgetContainer, {\n        position: this.props.position\n      }, React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\"\n      }, this.state.messageVisible && !this.state.hasOpened && React.createElement(WidgetMessage, {\n        key: \"1\"\n      }, this.props.message)), React.createElement(PoseGroup, null, this.state.open && React.createElement(StyledWidgetFrame, {\n        key: \"0\",\n        viewportHeight: test.windowHeight,\n        position: this.props.position\n      }, React.createElement(SpinnerWrapper, null, React.createElement(\"iframe\", {\n        style: {\n          zIndex: 8,\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          background: 'transparent',\n          display: 'block'\n        },\n        src: \"https://app.somm.ca/\".concat(this.props.username),\n        sandbox: \"allow-same-origin allow-scripts allow-popups allow-top-navigation\",\n        width: \"100%\",\n        height: \"100%\",\n        frameBorder: \"0\"\n      }), React.createElement(Spinner, {\n        color: this.props.iconColor\n      }, React.createElement(\"div\", null), React.createElement(\"div\", null))))), React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\"\n      }, React.createElement(WidgetToggle, {\n        key: \"-1\",\n        background: this.props.backgroundColor,\n        onClick: function onClick() {\n          return _this2.setState({\n            open: !_this2.state.open,\n            hasOpened: true\n          });\n        }\n      }, this.state.open ? React.createElement(StyledWidgetToggleIcon, {\n        iconColor: this.props.iconColor,\n        role: \"close\"\n      }, this.props.icon === \"sharp\" ? React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\"\n      }, React.createElement(\"path\", {\n        d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n      }), React.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n      })) : React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\"\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\"\n      }), React.createElement(\"path\", {\n        d: \"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\"\n      }))) : React.createElement(StyledWidgetToggleIcon, {\n        iconColor: this.props.iconColor,\n        role: \"open\"\n      }, this.props.icon === \"rounded\" && React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\"\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\"\n      }), React.createElement(\"path\", {\n        d: \"M8.1 13.34l2.83-2.83-6.19-6.18c-.48-.48-1.31-.35-1.61.27-.71 1.49-.45 3.32.78 4.56l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L4.4 19.17c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 14.41l6.18 6.18c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 13l1.47-1.47z\"\n      })), this.props.icon === \"sharp\" && React.createElement(\"svg\", {\n        width: \"24px\",\n        height: \"24px\",\n        viewBox: \"0 0 24 24\"\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\"\n      }), React.createElement(\"path\", {\n        d: \"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z\"\n      })), this.props.icon === \"emoji\" && React.createElement(WidgetToggleIconEmoji, null, \"\\uD83C\\uDF7D\\uFE0F\")))));\n    }\n  }]);\n\n  return Widget;\n}(Component);\n\nexport default Widget;","map":null,"metadata":{},"sourceType":"module"}