{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/Chris/somm-demo/components/SommWidget.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check';\nvar WidgetContainer = styled.div.withConfig({\n  displayName: \"SommWidget__WidgetContainer\",\n  componentId: \"i7qmkt-0\"\n})([\"position:fixed;\", \":\", \";bottom:16px;z-index:8;\"], function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '64px' : '16px';\n});\nvar PosedWidgetToggle = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetToggle = styled(function (props) {\n  return React.createElement(PosedWidgetToggle, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"SommWidget__WidgetToggle\",\n  componentId: \"i7qmkt-1\"\n})([\"width:48px;height:48px;background:\", \";box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;position:absolute;bottom:0;right:0;display:flex;align-items:center;justify-content:center;cursor:pointer;\"], function (props) {\n  return props.background;\n});\nvar WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetFrame = styled(WidgetFrame).withConfig({\n  displayName: \"SommWidget__StyledWidgetFrame\",\n  componentId: \"i7qmkt-2\"\n})([\"width:calc(100vw - 32px);max-width:360px;height:\", \";max-height:600px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;\", \":\", \";scale:1;opacity:1;transform-origin:bottom \", \";\"], function (props) {\n  return \"calc(\".concat(props.viewportHeight, \"px - 32px - 64px)\");\n}, function (props) {\n  return props.position;\n}, function (props) {\n  return props.position == \"left\" ? '-48px' : '0';\n}, function (props) {\n  return props.position;\n});\nvar WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar StyledWidgetToggleIcon = styled(WidgetToggleIcon).withConfig({\n  displayName: \"SommWidget__StyledWidgetToggleIcon\",\n  componentId: \"i7qmkt-3\"\n})([\"width:24px;height:24px;display:flex;align-items:center;justify-content:center;scale:1.5;opacity:1;& svg{fill:\", \";}\"], function (props) {\n  return props.iconColor;\n});\nvar spinnerAnimation = keyframes([\"0%{top:28px;left:28px;width:0;height:0;opacity:1;}100%{top:-1px;left:-1px;width:58px;height:58px;opacity:0;}\"]);\nvar SpinnerWrapper = styled.div.withConfig({\n  displayName: \"SommWidget__SpinnerWrapper\",\n  componentId: \"i7qmkt-4\"\n})([\"width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;z-index:1;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch;overflow-y:scroll;border-radius:8px;& iframe{border-radius:8px;}\"]);\nvar Spinner = styled.div.withConfig({\n  displayName: \"SommWidget__Spinner\",\n  componentId: \"i7qmkt-5\"\n})([\"display:inline-flex;position:relative;width:64px;height:64px;& div{position:absolute;border:4px solid \", \";opacity:1;border-radius:50%;animation:\", \" 1.5s cubic-bezier(0,0.2,0.8,1) infinite}& div:nth-child(2){animation-delay:-0.5s;}\"], function (props) {\n  return props.color;\n}, spinnerAnimation);\nvar PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000\n  },\n  exit: {\n    scale: 0,\n    opacity: 0\n  },\n  init: {\n    scale: 0,\n    opacity: 0\n  }\n});\nvar WidgetMessage = styled(function (props) {\n  return React.createElement(PosedWidgetMessage, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"SommWidget__WidgetMessage\",\n  componentId: \"i7qmkt-6\"\n})([\"width:224px;display:block;border:0;appearance:none;background:#FFFFFF;box-shadow:0 2px 16px -2px rgba(0,0,0,0.32);border-radius:8px;overflow:hidden;position:absolute;bottom:64px;right:0;scale:1;opacity:1;transform-origin:bottom right;padding:16px;box-sizing:border-box;display:flex;align-items:center;font-weight:700;color:#1f1f1f;font-size:1rem;\"]);\n\nvar Widget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Widget, _Component);\n\n  function Widget(props) {\n    var _this;\n\n    _classCallCheck(this, Widget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Widget).call(this, props));\n    _this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: _this.props.message ? true : false\n    };\n    return _this;\n  }\n\n  _createClass(Widget, [{\n    key: \"handleToggle\",\n    value: function handleToggle() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var test = vhCheck();\n      console.log(test);\n      return React.createElement(WidgetContainer, {\n        position: this.props.position,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, this.state.messageVisible && !this.state.hasOpened && React.createElement(WidgetMessage, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, this.props.message)), React.createElement(PoseGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, this.state.open && React.createElement(StyledWidgetFrame, {\n        key: \"0\",\n        viewportHeight: test.windowHeight,\n        position: this.props.position,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(SpinnerWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"iframe\", {\n        style: {\n          zIndex: 8,\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          background: 'transparent',\n          display: 'block'\n        },\n        src: \"https://app.somm.ca/\".concat(this.props.username),\n        sandbox: \"allow-same-origin allow-scripts allow-popups allow-top-navigation\",\n        width: \"100%\",\n        height: \"100%\",\n        frameBorder: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(Spinner, {\n        color: this.props.iconColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }))))), React.createElement(PoseGroup, {\n        animateOnMount: true,\n        preEnterPose: \"init\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(WidgetToggle, {\n        key: \"-1\",\n        background: this.props.backgroundColor,\n        onClick: function onClick() {\n          return _this2.setState({\n            open: !_this2.state.open,\n            hasOpened: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, this.state.open ? React.createElement(StyledWidgetToggleIcon, {\n        iconColor: this.props.iconColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, this.props.icon === \"sharp\" ? React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      })) : React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }))) : React.createElement(StyledWidgetToggleIcon, {\n        iconColor: this.props.iconColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, this.props.icon === \"rounded\" && React.createElement(\"svg\", {\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M8.1 13.34l2.83-2.83-6.19-6.18c-.48-.48-1.31-.35-1.61.27-.71 1.49-.45 3.32.78 4.56l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L4.4 19.17c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 14.41l6.18 6.18c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 13l1.47-1.47z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      })), this.props.icon === \"sharp\" && React.createElement(\"svg\", {\n        width: \"24px\",\n        height: \"24px\",\n        viewBox: \"0 0 24 24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(\"path\", {\n        fill: \"none\",\n        d: \"M0 0h24v24H0V0z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), React.createElement(\"path\", {\n        d: \"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      })), this.props.icon === \"emoji\" && React.createElement(WidgetToggleIconEmoji, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"\\uD83C\\uDF7D\\uFE0F\")))));\n    }\n  }]);\n\n  return Widget;\n}(Component);\n\nexport default Widget;","map":{"version":3,"sources":["/Users/Chris/somm-demo/components/SommWidget.jsx"],"names":["React","Component","PropTypes","posed","PoseGroup","styled","keyframes","vhCheck","WidgetContainer","div","props","position","PosedWidgetToggle","enter","scale","opacity","exit","init","WidgetToggle","background","WidgetFrame","StyledWidgetFrame","viewportHeight","WidgetToggleIcon","StyledWidgetToggleIcon","iconColor","spinnerAnimation","SpinnerWrapper","Spinner","color","PosedWidgetMessage","delay","WidgetMessage","Widget","state","open","hasOpened","messageVisible","message","test","console","log","windowHeight","zIndex","top","left","display","username","backgroundColor","setState","icon"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport posed, {PoseGroup} from 'react-pose'\nimport styled, { keyframes } from 'styled-components';\nimport vhCheck from 'vh-check'\n\nconst WidgetContainer = styled.div`\n  position: fixed;\n  ${props => props.position}: ${props => props.position == \"left\" ? '64px' : '16px'};\n  bottom: 16px;\n  z-index: 8;\n`;\n\nconst PosedWidgetToggle = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst WidgetToggle = styled(props => <PosedWidgetToggle {...props} />)`\n  width: 48px;\n  height: 48px;\n  background: ${props => props.background};\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`;\n\nconst WidgetFrame = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst StyledWidgetFrame = styled(WidgetFrame)`\n  width: calc(100vw - 32px);\n  max-width: 360px;\n  height: ${props => `calc(${props.viewportHeight}px - 32px - 64px)`};\n  max-height: 600px;\n  display: block;\n  border: 0;\n  appearance: none;\n  background: #FFFFFF;\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 64px;\n  ${props => props.position}: ${props => props.position == \"left\" ? '-48px' : '0'};\n  scale: 1;\n  opacity: 1;\n  transform-origin: bottom ${props => props.position};\n`;\n\nconst WidgetToggleIcon = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst StyledWidgetToggleIcon = styled(WidgetToggleIcon)`\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  scale: 1.5;\n  opacity: 1;\n\n  & svg {\n    fill: ${props => props.iconColor};\n  }\n`;\n\nconst spinnerAnimation = keyframes`\n  0% {\n    top: 28px;\n    left: 28px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: -1px;\n    left: -1px;\n    width: 58px;\n    height: 58px;\n    opacity: 0;\n  }\n`\n\nconst SpinnerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  -webkit-overflow-scrolling: touch;\n  overflow-y: scroll;\n  border-radius: 8px;\n\n  & iframe {\n    border-radius: 8px;\n  }\n`;\n\nconst Spinner = styled.div`\n  display: inline-flex;\n  position: relative;\n  width: 64px;\n  height: 64px;\n\n  & div {\n    position: absolute;\n    border: 4px solid ${props => props.color};\n    opacity: 1;\n    border-radius: 50%;\n    animation: ${spinnerAnimation} 1.5s cubic-bezier(0, 0.2, 0.8, 1) infinite\n  }\n\n  & div:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n`\n\nconst PosedWidgetMessage = posed.div({\n  enter: {\n    scale: 1,\n    opacity: 1,\n    delay: 1000,\n  },\n  exit: {\n    scale: 0,\n    opacity: 0,\n  },\n  init: {\n    scale: 0,\n    opacity: 0,\n  }\n})\n\nconst WidgetMessage = styled((props) => <PosedWidgetMessage {...props} />)`\n  width: 224px;\n  display: block;\n  border: 0;\n  appearance: none;\n  background: #FFFFFF;\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: 8px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 64px;\n  right: 0;\n  scale: 1;\n  opacity: 1;\n  transform-origin: bottom right;\n  padding: 16px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  font-weight: 700;\n  color: #1f1f1f;\n  font-size: 1rem;\n`;\n\nclass Widget extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      hasOpened: false,\n      messageVisible: this.props.message ? true : false,\n    }\n  }\n\n  handleToggle() {\n\n  }\n\n  render() {\n\n    var test = vhCheck()\n    console.log(test);\n\n    return (\n      <WidgetContainer position={this.props.position}>\n        <PoseGroup animateOnMount preEnterPose=\"init\">\n          {this.state.messageVisible && !this.state.hasOpened &&\n            <WidgetMessage key=\"1\">\n              {this.props.message}\n            </WidgetMessage>\n          }\n        </PoseGroup>\n        <PoseGroup>\n          {this.state.open &&\n            <StyledWidgetFrame key=\"0\" viewportHeight={test.windowHeight} position={this.props.position}>\n              <SpinnerWrapper>\n                <iframe\n                  style={{ zIndex: 8, position: 'absolute', top: 0, left: 0, background: 'transparent', display: 'block' }}\n                  src={`https://app.somm.ca/${this.props.username}`}\n                  sandbox=\"allow-same-origin allow-scripts allow-popups allow-top-navigation\"\n                  width=\"100%\"\n                  height=\"100%\"\n                  frameBorder=\"0\">\n                </iframe>\n                <Spinner color={this.props.iconColor}>\n                  <div></div>\n                  <div></div>\n                </Spinner>\n              </SpinnerWrapper>\n\n            </StyledWidgetFrame>\n          }\n        </PoseGroup>\n        <PoseGroup animateOnMount preEnterPose=\"init\">\n          <WidgetToggle key=\"-1\" background={this.props.backgroundColor} onClick={() => this.setState({ open: !this.state.open, hasOpened: true })}>\n              {this.state.open\n                ?\n                  <StyledWidgetToggleIcon iconColor={this.props.iconColor}>\n                    {this.props.icon === \"sharp\"\n                      ?\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n                        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                      </svg>\n                      :\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                        <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n                        <path d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\"/>\n                      </svg>\n                    }\n                  </StyledWidgetToggleIcon>\n                :\n                  <StyledWidgetToggleIcon iconColor={this.props.iconColor}>\n                    {this.props.icon === \"rounded\" &&\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                        <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n                        <path d=\"M8.1 13.34l2.83-2.83-6.19-6.18c-.48-.48-1.31-.35-1.61.27-.71 1.49-.45 3.32.78 4.56l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L4.4 19.17c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 14.41l6.18 6.18c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 13l1.47-1.47z\"/>\n                      </svg>\n                    }\n                    {this.props.icon === \"sharp\" &&\n                      <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\n                        <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n                        <path d=\"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z\"/>\n                      </svg>\n                    }\n                    {this.props.icon === \"emoji\" &&\n                      <WidgetToggleIconEmoji>üçΩÔ∏è</WidgetToggleIconEmoji>\n                    }\n                  </StyledWidgetToggleIcon>\n              }\n          </WidgetToggle>\n        </PoseGroup>\n      </WidgetContainer>\n    );\n  }\n\n}\n\nexport default Widget;\n"]},"metadata":{},"sourceType":"module"}